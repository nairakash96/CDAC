<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>JS 30</title>
	<script type="text/javascript">
		function f1(){
			let od=document.getElementById("id").value;
			let cname=document.getElementById("ename").value;
			let bdate=document.getElementById("bdate").value;
			let sdate=document.getElementById("sdate").value;
			let tot=document.getElementById("tot").value;
			
			console.log(parseInt(bdate));

			return{
				name:cname,
				id:od,
				bdt:bdate,
				sdt:sdate,
				Tot:tot
			}
		}

			function display(){
				let data=f1();
				var win=window.open("");
				win.document.write(form)
				win.document.write(`<li> Order id ${data.id}</li>`)
				win.document.write(`<li> Name ${data.name}</li>`)
				win.document.write(`<li> Billing Date ${data.bdt}</li>`)
				win.document.write(`<li> Shipping Date ${data.sdt}</li>`)
				win.document.write(`<li> Total ${data.Tot}</li>`)
			}

			function nameVal(){
			let cname=document.getElementById("ename").value;
			if(cname.length<5){
			document.getElementById("abc").innerHTML="<b>Nume must be more than 5<b>"
			document.getElementById("ename").focus();
			document.getElementById("ename").select();
			return false;
			}
			document.getElementById("abc").innerHTML=""
			return true;
		}

		function dateVal(){
			let bdate=document.getElementById("bdate").value;
			let sdate=document.getElementById("sdate").value;
			var d1=new Date(bdate);
			var d2=new Date(sdate);
			if(bdate.length==0||sdate==0){
				alert("Enter Dates");
				return false;
			}
			else if(d1>d2){
			document.getElementById("cde").innerHTML="<b>Billing Date cannot be greater than shipping date<b>"
			document.getElementById("bdate").focus();
			document.getElementById("bdate").select();
			return false;
			}
			document.getElementById("cde").innerHTML=""
			return true;
		}

		function f3(){
			if(dateVal()&&nameVal()){
				display();
				return true;
			}
			else
				alert("Please Check all Fields")
				return false;
		}

		var form=`<fieldset><form>\
			<table>\
				<tr>\
					<td>\
						Order ID\
					</td>\
					<td>\
						<input type="number" name="id" id="id" required>\
					</td>\
				</tr>\
				<tr>\
					<td>\
						Customer Name\
					</td>\
					<td>\
						<input type="text" name="ename" id="ename" required  onchange="nameVal()">\
						<span id="abc"></span>\
					</td>\
				</tr>\
				<tr>\
					<td>\
						Enter Billing Date\
					</td>\
					<td>\
						<input type="date" name="bdate" id="bdate" required>\
						<span id="cde"></span>
					</td>\
				</tr>\
				<tr>\
					<td>\
						Enter Shipping Date\
					</td>\
					<td>\
						<input type="date" name="sdate"id="sdate" required onchange=dateVal()>\
					</td>\
				</tr>\
				<tr>\
					<td>
						Order Total\
					</td>\
					<td>\
						<input type="text" name="tot"id="tot" required>\
					</td>\
				</tr>\
			</table>\
			<button onclick="f3()">Submit</button>\
		</form></fieldset>`
	</script>
	<style type="text/css">
		fieldset{
			width: fit-content;
			border-style: dotted;
			border-color: blue;
		}
		span{
			color: red;
			font: small-caption;
		}
	</style>
</head>
<body>
	<div id="s1"></div>
	<script>
		document.getElementById("s1").innerHTML=`${form}`;
	</script>
</body>
</html>